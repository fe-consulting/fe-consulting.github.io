<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:87.5%/1.66 '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:3.157rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.99326rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.58383rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.79459rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;color:inherit;font-family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.7083rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}ul{margin-left:1.66rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.66rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;font-size:0.85rem;line-height:1.66rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;font-size:1rem;line-height:1.66rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}blockquote{margin-left:1.66rem;margin-right:1.66rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.66rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.66rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.66rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.66rem;margin-bottom:calc(1.66rem / 2);margin-top:calc(1.66rem / 2);}li > ul{margin-left:1.66rem;margin-bottom:calc(1.66rem / 2);margin-top:calc(1.66rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.66rem / 2);}code{font-size:0.85rem;line-height:1.66rem;}kbd{font-size:0.85rem;line-height:1.66rem;}samp{font-size:0.85rem;line-height:1.66rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.10667rem;padding-right:1.10667rem;padding-top:0.83rem;padding-bottom:calc(0.83rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><title data-react-helmet="true">Practical RxJS andÂ Angular | Frontend Consulting Ltd</title><meta data-react-helmet="true" name="description"/><meta data-react-helmet="true" name="keywords" content="minimal, blog, layout"/><meta data-react-helmet="true" name="image" content="https://frontend.consultingundefined"/><meta data-react-helmet="true" property="og:locale" content="de_DE"/><meta data-react-helmet="true" property="og:site_name"/><meta data-react-helmet="true" property="og:url" content="https://frontend.consulting/practical-rx-js-and-angular"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Practical RxJS andÂ Angular"/><meta data-react-helmet="true" property="og:description"/><meta data-react-helmet="true" property="og:image" content="https://frontend.consultingundefined"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="Practical RxJS andÂ Angular"/><meta data-react-helmet="true" name="twitter:url" content="https://frontend.consulting"/><meta data-react-helmet="true" name="twitter:description"/><meta data-react-helmet="true" name="twitter:image" content="https://frontend.consultingundefined"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://frontend.consulting/","name":"Frontend Consulting Ltd","alternateName":"Frontend Consulting Ltd"}]</script><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://frontend.consulting/","name":"Practical RxJS andÂ Angular","alternateName":"Frontend Consulting Ltd"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://frontend.consulting/practical-rx-js-and-angular","name":"Practical RxJS andÂ Angular","image":"https://frontend.consultingundefined"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://frontend.consulting/","name":"Practical RxJS andÂ Angular","alternateName":"Frontend Consulting Ltd","headline":"Practical RxJS andÂ Angular","image":{"@type":"ImageObject","url":"https://frontend.consultingundefined"}}]</script><style data-styled-components="iYAehQ bkrTGl iqyGec dhCPRd bLlJxD bLskdq jxVsqx hLBrvM dstUWH VLDzk cBFrmq">
/* sc-component-id: Header__Heading-beimjb-0 */
.bkrTGl{font-size:18px;font-weight:500;margin:0;padding:0.5rem 0;font-family:'Raleway',sans-serif;} .bkrTGl a:hover{border-color:transparent;}
/* sc-component-id: Header__Navigation-beimjb-1 */
.iqyGec{-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:end;-webkit-box-align:end;-ms-flex-align:end;align-items:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;line-height:15px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;} .iqyGec a{font-weight:300;font-size:18px;margin-left:2rem;border-bottom:3px solid transparent;padding:0.5rem 0;-webkit-transition:border 0.25s;transition:border 0.25s;font-family:'Raleway',sans-serif;} .iqyGec a:hover,.iqyGec [aria-current],.iqyGec .current{border-bottom-color:#64b5f6;}
/* sc-component-id: Header__FlexHeader-beimjb-2 */
.iYAehQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:1140px;margin:0 auto;padding:1rem 3rem;} @media (max-width:600px){.iYAehQ{padding:20px;}}
/* sc-component-id: sc-global-1697483289 */
@import url('https://fonts.googleapis.com/css?family=Raleway:100,400,600'); body{color:#212121;background:#fafafa;font-family:'Raleway',sans-serif;} @media (max-width:600px){body{font-size:14px;}} body::selection,body::-moz-selection{background:#fafafa;} a{color:#212121;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 0.5s;transition:all 0.5s;border-bottom:1px solid transparent;} a:hover{border-color:#64b5f6;color:#212121;} h1,h2,h3,h4{color:#212121;} blockquote{font-style:italic;position:relative;} blockquote:before{content:"";position:absolute;background:#64b5f6;height:100%;width:6px;margin-left:-1.6rem;} label{margin-bottom:.5rem;color:rgba(0,0,0,0.9);} input,textarea{border-radius:.5rem;border:none;background:rgba(0,0,0,0.05);padding:.25rem 1rem;} input:focus,textarea:focus{outline:none;}
/* sc-component-id: Layout__Footer-sc-1883uv5-0 */
.cBFrmq{text-align:center;padding:0;} .cBFrmq span{font-size:0.75rem;}
/* sc-component-id: PrevNext__Wrapper-a8usab-0 */
.dstUWH{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:6rem auto 0 auto;justify-items:center;} .dstUWH a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: PrevNext__Next-a8usab-2 */
.VLDzk{margin-left:auto;text-align:right;} .VLDzk span{text-transform:uppercase;font-size:0.8rem;}
/* sc-component-id: Subline-sc-1oopd01-0 */
.jxVsqx{font-size:0.9rem;}
/* sc-component-id: Wrapper-sc-132nl7e-0 */
.dhCPRd{display:grid;grid-template-columns:1fr minmax(320px,1140px) 1fr;padding:0 1rem;}
/* sc-component-id: Content-sgn00h-0 */
.bLlJxD{grid-column:2;padding:1rem 3rem;overflow:hidden;} @media (max-width:1200px){.bLlJxD{padding:3rem 2rem;}} @media (max-width:600px){.bLlJxD{padding:2rem 0.5rem;}}
/* sc-component-id: post__Title-sc-12e8ad-0 */
.bLskdq{margin-bottom:1rem;font-weight:100;}
/* sc-component-id: post__PostContent-sc-12e8ad-1 */
.hLBrvM{font-size:18px;font-weight:300;font-family:'Merriweather',serif;line-height:2;width:100%;max-width:800px;margin-top:2em;} .hLBrvM a[target='_blank']{border-bottom:1px solid #64b5f6;padding-bottom:2px;} .hLBrvM p,.hLBrvM pre{margin-top:1.66rem;}
/* sc-component-id: sc-global-1250939217 */
@import url('https://fonts.googleapis.com/css?family=Merriweather:300,400,700');</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-href="/styles.6b6fe26ad64f70a91fb9.css">code[class*=language-],pre[class*=language-]{font-family:Consolas,Menlo,Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace;font-size:14px;line-height:1.375;direction:ltr;background:#f5f7ff;color:#5e6687}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#dfe2f1}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#dfe2f1}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#898ea4}.token.punctuation{color:#5e6687}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#c76b29}.token.property{color:#c08b30}.token.tag{color:#3d8fd1}.token.string{color:#22a2c9}.token.selector{color:#6679cc}.token.attr-name{color:#c76b29}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#22a2c9}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#ac9739}.token.atrule,.token.regex,.token.statement{color:#22a2c9}.token.placeholder,.token.variable{color:#3d8fd1}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #202746;text-decoration:none}.token.important{color:#c94922}pre>code.highlight{outline:.4em solid #c94922;outline-offset:.4em}.line-numbers .line-numbers-rows{border-right-color:#dfe2f1}.line-numbers-rows>span:before{color:#979db4}.line-highlight{background:rgba(107,115,148,.2);background:-webkit-gradient(linear,left top,right top,color-stop(70%,rgba(107,115,148,.2)),to(rgba(107,115,148,0)));background:linear-gradient(90deg,rgba(107,115,148,.2) 70%,rgba(107,115,148,0))}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><link href="//fonts.googleapis.com/css?family=-apple-system,+BlinkMacSystemFont,+&quot;Segoe+UI&quot;,+Roboto,+Helvetica,+Arial,+sans-serif,+&quot;Apple+Color+Emoji&quot;,+&quot;Segoe+UI+Emoji&quot;,+&quot;Segoe+UI+Symbol&quot;;:700|-apple-system,+BlinkMacSystemFont,+&quot;Segoe+UI&quot;,+Roboto,+Helvetica,+Arial,+sans-serif,+&quot;Apple+Color+Emoji&quot;,+&quot;Segoe+UI+Emoji&quot;,+&quot;Segoe+UI+Symbol&quot;;:400" rel="stylesheet" type="text/css"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#64b5f6"/><meta name="generator" content="Gatsby 2.3.22"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7cff4860a51e9c0056df4ff0963a38d7"/><link as="script" rel="preload" href="/0-42d8fa70094c963efbe7.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-3fb367d8b410e2b847ce.js"/><link as="script" rel="preload" href="/app-e781bcfe6228f13d8204.js"/><link as="script" rel="preload" href="/styles-c9572c134121a88577a5.js"/><link as="script" rel="preload" href="/webpack-runtime-6a7798dd93d5ec5280b1.js"/><link as="fetch" rel="preload" href="/static/d/62/path---practical-rx-js-and-angular-c-6-f-82a-1KPRq3u6t2qYneJmkaHaO3Ixu8Q.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="Header__FlexHeader-beimjb-2 iYAehQ"><h1 class="Header__Heading-beimjb-0 bkrTGl"><a href="/">frontend.consulting</a></h1><div class="Header__Navigation-beimjb-1 iqyGec"><a href="/articles">articles</a><a href="mailto:gc@frontend.consulting">get in touch</a></div></div><div class="Wrapper-sc-132nl7e-0 dhCPRd"><div class="Content-sgn00h-0 bLlJxD"><h1 class="post__Title-sc-12e8ad-0 bLskdq">Practical RxJS andÂ Angular</h1><div class="Subline-sc-1oopd01-0 jxVsqx">26.04.2019<!-- --> â€” <!-- -->10<!-- --> Min Read â€” In<!-- --> <a href="/categories/angular">angular</a></div><div class="post__PostContent-sc-12e8ad-1 hLBrvM"><p>Working with RxJS <strong>is a little bit like having superpowers</strong>: your powers allow you to do extraordinary things, but theyâ€™re easy to misuse, and when that happens - it can be quite dangerous!</p>
<p>In this article, I want to talk about practical scenarios that I found useful while working with Angular and RxJS, going through useful patterns you may use and what to look out for.</p>
<p>Starting from a basic situation which only involves displaying a list, we will move on to more complex situations such as stopping ongoing requests, delaying userâ€™s input and storing data with <em>Subjects</em>.</p>
<h2 id="the-basics-of-rxjs"><a href="#the-basics-of-rxjs" aria-label="the basics of rxjs permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The BasicsÂ of RxJS</h2>
<h3 id="getting-and-displaying-data-with-http-client"><a href="#getting-and-displaying-data-with-http-client" aria-label="getting and displaying data with http client permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting and Displaying data with HTTPÂ Client</h3>
<p>In this example, we will be fetching repositories from Githubâ€™s API with Angularâ€™s HTTP Client and we will display it as a list. This is what the component will look like:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*V_yVBwZ0AluJFmDf2kxzxQ.png"></p>
<p>Told ya it wasÂ simple!</p>
<p>Letâ€™s assume we have a functioning Angular workspace created with the CLI, and that we created a new route called <em>GithubRepositoriesComponent.</em> This is what it looks like initially:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token string">'app-github-repositories'</span><span class="token punctuation">,</span>
    templateUrl<span class="token punctuation">:</span> <span class="token string">'./github-repositories.component.html'</span><span class="token punctuation">,</span>
    styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./github-repositories.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    changeDetection<span class="token punctuation">:</span> ChangeDetectionStrategy<span class="token punctuation">.</span>OnPush
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GithubRepositoriesComponent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<blockquote>
<p>For simplicityâ€™s sakeâ€Šâ€”â€Šwe will code all the logic within the component. Not something Iâ€™d recommend though!</p>
</blockquote>
<p>Next, we do the following things:</p>
<ul>
<li>we import <em>HttpClient</em> via Dependency Injection</li>
<li>we declare two methods: <em>onTextChange,</em> which is simply a handler for the input element, and <em>fetchRepositories,</em> which is responsible for performing the request to the API</li>
<li>we assign the observable returned by the HTTP client to <em>searchResult$</em></li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ChangeDetectionStrategy<span class="token punctuation">,</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RepositorySearchResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/models/repository-search-response.interface'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">GITHUB_URL</span> <span class="token operator">=</span> <span class="token string">'https://api.github.com/search/repositories'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token string">'app-github-repositories'</span><span class="token punctuation">,</span>
    templateUrl<span class="token punctuation">:</span> <span class="token string">'./github-repositories.component.html'</span><span class="token punctuation">,</span>
    styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./github-repositories.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    changeDetection<span class="token punctuation">:</span> ChangeDetectionStrategy<span class="token punctuation">.</span>OnPush
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GithubRepositoriesComponent</span> <span class="token punctuation">{</span>
    searchResult$<span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>RepositorySearchResponse<span class="token operator">></span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> http<span class="token punctuation">:</span> HttpClient</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token function">onTextChange</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchResult$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchRepositories</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token function">fetchRepositories</span><span class="token punctuation">(</span>query<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>RepositorySearchResponse<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> q<span class="token punctuation">:</span> query <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span>RepositorySearchResponse<span class="token operator">></span><span class="token punctuation">(</span><span class="token constant">GITHUB_URL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Then, we subscribe to <em>searchResult$ <em>not</em> in the component but in the template thanks to the _async</em> pipe. Yesâ€Šâ€”â€Šinstead of subscribing within the component and assigning the resulting value to a local property, we let the async pipe subscribe to it.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Github Repositories Search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Repository name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
           <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ml-2<span class="token punctuation">"</span></span>
           <span class="token attr-name">[ngModel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span>
           <span class="token attr-name">(ngModelChange)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onTextChange($event)<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(searchResult$ | async) as searchResult<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Repositories<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">[ngSwitch]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchResult.items.length<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            No results found
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">*ngSwitchDefault</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let result of searchResult.items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                {{ result.name }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>But as you may have noticed, this is very basic and a pretty rusty search form. Letâ€™s improve it a little thanks to some RxJS magic.</p>
<blockquote>
<p>The templates are using some helpful Bootstrap classes for styling</p>
</blockquote>
<h3 id="skipping-requests"><a href="#skipping-requests" aria-label="skipping requests permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Skipping requests</h3>
<p>We want to be nice programmers, therefore we try to never consume precious resources from our services. RxJS helps us thanks to its powerful operators, but unfortunately, our initial solution has some problems:</p>
<ul>
<li>if we enter a white-space, the request gets made again</li>
<li>requests run as soon as the model gets changed</li>
<li>if the user types something before the request has finished, the request keeps running</li>
</ul>
<p>We can use a few new operators to avoid these issues, but we also need to refactor our code a little.Â </p>
<p>This is what we will do next:</p>
<ul>
<li>instead of re-assigning our observable every time the model changes, we create a single stream created when the component is initiated. To do this, we introduce a <em>Subject</em>, that is a stream of queries</li>
<li>we trim and normalize our queries stream, so we can <strong>filter</strong> empty queries</li>
<li>we add the operator <em>debounceTime(500)</em> in order to <strong>debounce</strong> the queries every 500 milliseconds</li>
<li>we add <em>distinctUntilChanged,</em> which will <strong>skip</strong> requests if the query was entered consecutively</li>
<li>we <strong>map</strong> the queries stream to a stream of requests with <em>switchMap</em></li>
</ul>
<p>Consider the following changes to our initial solution:</p>
<p><em>Why switchMap?</em> switchMap not only map queries to HTTP requests but will also cancel any ongoing request. See the following:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*QOncAKIrICia9bNZPCh10A.gif"></p>
<p>I entered a search term likely to take a lot of time, so I had enough time to re-enter a term while the search request was running.Â </p>
<p>As you can see in the network tab, the first three requests were canceled!</p>
<p>Yay! ðŸŽ‰</p>
<hr>
<p>Next thing our app could be doing is to show the ownerâ€™s information when we hover a repositoryâ€™s name. We can show the name, avatar, bio, and the organizations the owner belongs to, for which we will need to make an additional request.</p>
<p>What do we need to do?</p>
<ul>
<li>Creating a handler when the user hovers and leaves a repository item</li>
<li>Fetching organizations when hovering a repository, and resetting when the mouse leaves it</li>
<li>Because it does not make sense to keep repositories belonging to organizations in our list, we will filter it thanks to a powerful custom operator!</li>
<li>Refactor our initial code a little bit for simplification</li>
</ul>
<h3 id="custom-operators"><a href="#custom-operators" aria-label="custom operators permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Operators</h3>
<p>Creating custom operators is a very useful technique that could be useful for reusing some of the logic that sometimes we end up using in similar situations, or when readability may benefit by making generic operators more declarative by mixing it with our domain business logic.</p>
<p>For example, in our application, we want to add an operator can filter an observable of repositories with only repositories belonging to a user, and not to an organization.</p>
<p>This is what the code could look like:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> map <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> OwnerType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../enums/owner-type.enum'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Repository <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../models/repository.interface'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">filterByOwnerType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">type</span><span class="token punctuation">:</span> OwnerType</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">filterFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">repository<span class="token punctuation">:</span> Repository</span><span class="token punctuation">)</span> <span class="token operator">=></span> repository<span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">===</span> <span class="token keyword">type</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">repositories<span class="token punctuation">:</span> Repository<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> repositories<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>filterFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>This code simply applies a filter function to the array of repositories and maps it as an observable.</p>
<h3 id="complete-example"><a href="#complete-example" aria-label="complete example permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complete Example</h3>
<p>The rest of the code should be fairly straightforward:</p>
<ul>
<li>we replaced <em>searchResult$</em> with <em>repositories$</em></li>
<li>we added the <em>organizations$</em> observable and the <em>selectedRepository$</em> subject</li>
<li>the handler <em>onRepositoryMouseEvent</em> takes care of updating <em>selectedRepository$</em></li>
<li>the custom operator <em>filterByUOwnerType</em> is added to the <em>repositories$</em> stream</li>
<li>in the template, we added the organizations' list and the owner section appearing when a repository gets hovered</li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ChangeDetectionStrategy<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>

<span class="token comment">// Rx</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable<span class="token punctuation">,</span> <span class="token keyword">of</span><span class="token punctuation">,</span> Subject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
    debounceTime<span class="token punctuation">,</span>
    distinctUntilChanged<span class="token punctuation">,</span>
    filter<span class="token punctuation">,</span>
    map<span class="token punctuation">,</span>
    switchMap<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> filterByOwnerType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/operators/filter-by-owner-type'</span><span class="token punctuation">;</span>

<span class="token comment">// interfaces</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RepositorySearchResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/models/repository-search-response.interface'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Organization <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/models/organization.interface'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Repository <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/models/repository.interface'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> OwnerType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../shared/enums/owner-type.enum'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">GITHUB_URL</span> <span class="token operator">=</span> <span class="token string">'https://api.github.com/search/repositories'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token string">'app-github-repositories'</span><span class="token punctuation">,</span>
    templateUrl<span class="token punctuation">:</span> <span class="token string">'./github-repositories.component.html'</span><span class="token punctuation">,</span>
    styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./github-repositories.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    changeDetection<span class="token punctuation">:</span> ChangeDetectionStrategy<span class="token punctuation">.</span>OnPush
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GithubRepositoriesComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
    queries$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    selectedRepository$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token operator">&lt;</span>Repository <span class="token operator">|</span> undefined<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    repositories$<span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>Repository<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>
    organizations$<span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>Organization<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> http<span class="token punctuation">:</span> HttpClient</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>repositories$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queries$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
            <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> query <span class="token operator">?</span> query<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchRepositories</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">filterByOwnerType</span><span class="token punctuation">(</span>OwnerType<span class="token punctuation">.</span>User<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>organizations$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedRepository$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
            <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">repository</span><span class="token punctuation">)</span> <span class="token operator">=></span> repository <span class="token operator">&amp;&amp;</span> repository<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>organizations_url<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> url <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchUserOrganizations</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">of</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onTextChange</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>queries$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onRepositoryMouseEvent</span><span class="token punctuation">(</span><span class="token parameter">repository<span class="token punctuation">:</span> Repository <span class="token operator">|</span> undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>selectedRepository$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>repository<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token function">fetchRepositories</span><span class="token punctuation">(</span>query<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>Repository<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> q<span class="token punctuation">:</span> query <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http
            <span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span>RepositorySearchResponse<span class="token operator">></span><span class="token punctuation">(</span><span class="token constant">GITHUB_URL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
                <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response<span class="token punctuation">:</span> RepositorySearchResponse</span><span class="token punctuation">)</span> <span class="token operator">=></span> response<span class="token punctuation">.</span>items<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token function">fetchUserOrganizations</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>Organization<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span>Organization<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Github Repositories Search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Repository name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
           <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ml-2<span class="token punctuation">"</span></span>
           <span class="token attr-name">[ngModel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span>
           <span class="token attr-name">(ngModelChange)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onTextChange($event)<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(repositories$ | async) as repositories<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Repositories<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">[ngSwitch]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>repositories.length<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                No results found
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>d-flex justify-content-between row<span class="token punctuation">"</span></span> <span class="token attr-name">*ngSwitchDefault</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token comment">&lt;!-- REPOS LIST --></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
                        <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let repository of repositories<span class="token punctuation">"</span></span>
                        <span class="token attr-name">(mouseover)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onRepositoryMouseEvent(repository)<span class="token punctuation">"</span></span>
                        <span class="token attr-name">(mouseleave)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onRepositoryMouseEvent(undefined)<span class="token punctuation">"</span></span>
                    <span class="token punctuation">></span></span>
                        {{ repository.name }}
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
                    <span class="token comment">&lt;!-- OWNER --></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(selectedRepository$ | async) as selectedRepository<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>{{ selectedRepository.owner.login }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>

                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">[attr.src]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selectedRepository.owner.avatar_url<span class="token punctuation">"</span></span>
                             <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span>
                             <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span>
                             <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>avatar<span class="token punctuation">"</span></span>
                        <span class="token punctuation">/></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

                    <span class="token comment">&lt;!-- ORGANIZATIONS --></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(organizations$ | async) as organizations<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">></span></span>Organizations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>

                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let org of organizations<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>d-inline-flex mr-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">[attr.src]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.avatar_url<span class="token punctuation">"</span></span>
                                 <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span>
                                 <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span>
                                 <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org avatar<span class="token punctuation">"</span></span>
                            <span class="token punctuation">/></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>And this is what it looks like:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*ukvZnxzqT3yTKitCVjvVJQ.gif"></p>
<p>Oh yeah, that was me by the way! ðŸ™„</p>
<h2 id="state-management"><a href="#state-management" aria-label="state management permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>State Management</h2>
<p>No, this is not another explanation about <em>NGRX</em>, or <em>Redux</em>.</p>
<p>I want to show you some issues when we deal with getting the current state from our Observables and Subjects.</p>
<p>Letâ€™s say we want to retrieve the latest information received without going through the template, which as weâ€™ve seen is fairly easy.</p>
<p>Letâ€™s add a button that would allow the user to export the current list of repositories (of course, we wonâ€™t implement the functionality, but we will just log the list).</p>
<p>Easy, right?</p>
<p>Letâ€™s create the export function:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token function">exportRepos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>repositories$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">repos</span> <span class="token operator">=></span> <span class="token punctuation">{</span>  
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>repos<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// export function here });  </span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> </code></pre></div>
<p>And see how it behaves:</p>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*0QLd2zSp8Dg6iXRUhYEtQw.gif"></p>
<p>As you may have seen, the logs did not appear until the observable emitted a new value! The reason is the observable was subscribed <strong>after it emitted a value</strong>.</p>
<p>In order to fix this, we introduce another operator called _shareReplay.Â _</p>
<p>This operator will keep a memory of the emissions that we can subscribe at a later time. Under the hood, it uses a <em>ReplaySubject</em> to keep the state. Because we only want it to hold the latest emission, which is our current state, we need to pass an argument called <em>bufferSize</em> and we set it to <em>1,</em> which in plain English means only â€œplease keep the latest 1 emission(s) in your memoryâ€.</p>
<p>And this is how our final stream looks like:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*EkvWjPMk8eNWXJPbTXrFWw.png"></p>
<p>Letâ€™s see how our application will work!</p>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*-otqLWTJJ5g1L3iipnE03Q.gif"></p>
<p>Wait, what? Did you notice that when I entered â€œreactâ€ as search term, the repositories were logged again without us having to click on the button? That does sound like a bug, a very common one if I may add.</p>
<p>Very simplyâ€Šâ€”â€Šwe forgot to change the export function, which should subscribe to the observable, but close the subscription right away! Do we unsubscribe manually? Maybe thatâ€™s not needed. Letâ€™s use the operator <em>take,</em> which will unsubscribe from the observable once it emits the number of times equal to the number we give it as an argument.</p>
<p>Letâ€™s fix that! We pipe our observable with the operator <em>take(1):</em></p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*eSCkhW5u6RH0vjhh1OKNxw.png"></p>
<h4 id="why-is-this-important"><a href="#why-is-this-important" aria-label="why is this important permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why is this important?</h4>
<ul>
<li>itâ€™s a common cause of logic bugs, ex. methods being called when they shouldnâ€™t</li>
<li>itâ€™s a common cause of memory leaks, as the subscriptions are not cleaned up!</li>
<li>the more often the observable emits, the bigger the issue. Try absolutely avid this with observables emitting from real-time sources!</li>
<li>itâ€™s quite common when using <em>store.select()</em> from NGRX, so watch out when using that</li>
</ul>
<h2 id="final-words"><a href="#final-words" aria-label="final words permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Final Words</h2>
<p>As you may have seen - we accomplished with a few RxJS lines what could have taken hundreds without.
It is a powerful tool, that if understood well and used correctly, can really make your code beautiful and easy to read.</p>
<p>As you may also have seen, it doesn't take much to make mistakes with it as well. A small misunderstanding of a certain behaviour can lead to bugs and memory leaks.
This is something to take into account if your team is starting to use it - but be assured - it will be worth it.</p></div><div class="PrevNext__Wrapper-a8usab-0 dstUWH"><div class="PrevNext__Next-a8usab-2 VLDzk"><span>Next</span><a href="/building-an-enterprise-grade-angular-project-structure">Building an enterprise-grade Angular project structure</a></div></div></div></div><footer class="Layout__Footer-sc-1883uv5-0 cBFrmq"><a href="https://github.com/fe-consulting" target="_blank"><img src="/images/github.png" alt="Github" width="25" height="auto"/></a></footer><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137411414-1"></script></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-js","jsonName":"practical-rx-js-and-angular-c6f","path":"/practical-rx-js-and-angular"};window.dataPath="62/path---practical-rx-js-and-angular-c-6-f-82a-1KPRq3u6t2qYneJmkaHaO3Ixu8Q";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e781bcfe6228f13d8204.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-4f8aa662bdafadc950c6.js"],"component---src-templates-post-js":["/component---src-templates-post-js-3fb367d8b410e2b847ce.js"],"component---src-templates-category-js":["/component---src-templates-category-js-f0ff2181ad551567694d.js"],"component---src-pages-articles-js":["/component---src-pages-articles-js-3788ca4208b408e43bd2.js"],"component---src-pages-categories-js":["/component---src-pages-categories-js-639aca607b392b857401.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b86bca2fdf137e14a0cd.js"],"component---src-pages-success-js":["/component---src-pages-success-js-1aef9b04ba5ee3725240.js"],"pages-manifest":["/pages-manifest-345d504f98abcbff32e1.js"]};/*]]>*/</script><script src="/webpack-runtime-6a7798dd93d5ec5280b1.js" async=""></script><script src="/styles-c9572c134121a88577a5.js" async=""></script><script src="/app-e781bcfe6228f13d8204.js" async=""></script><script src="/component---src-templates-post-js-3fb367d8b410e2b847ce.js" async=""></script><script src="/0-42d8fa70094c963efbe7.js" async=""></script></body></html>